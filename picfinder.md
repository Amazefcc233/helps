# 搜图姬

> 本机器人目前运转正常。

## 介绍

搜图姬是一项基于saucenao搜图服务的搜图机器人。  
虽然主服务是“搜图姬”，但目前也增加了一些附加娱乐功能。  
 - 当前状态：**已开启**
 - 服务时间：2018.12.31-2020.12.21
 - 服务范围：QQ内不限范围
   * 若需要添加机器人，请查看[添加事项](###添加事项)
   
## 功能

功能帮助也在群中回复/help pic查看。  
主服务“搜图姬”必须要激活授权才可正常使用。  

### 搜图片

搜图片有三种方法，分别为at搜图、搜图模式与私聊搜图。  

#### at搜图

搜图很简单，您只需发送图片并at搜图姬即可。  
如果搜索结果并不令人满意，您还可以加入一些参数。  
本搜图姬参数如下：  
 - ```--get-url```：获取图片的在线链接（不会搜图）  
 - ```--a2d```：使用 ascii2d 进行搜索（优势在于可搜索局部图）  
 - ```--pixiv```：从P站中搜索  
 - ```--danbooru```：从 Danbooru 中搜索  
 - ```--book```：搜索本子  
 - ```--anime```：搜索番剧  
 - ```--purge```：无视缓存并重新搜图  

#### 搜图模式

当您想进入搜图模式时，可输入“开始搜图”进入  
搜图模式下发送的所有图片都会被搜索！  
注意！搜完图片后请输入“搜完啦”退出搜图模式！  
本模式下可用参数如下：  
 - ```all```：全范围搜索  
 - ```pixiv```：从P站中搜索  
 - ```danbooru```：从 Danbooru 中搜索  
 - ```book```：搜索本子  
 - ```anime```：搜索番剧  
注意！输入参数后，你后续发出的所有图片都会使用你指定的搜索库！  
发送参数只需发送参数名。  

#### 私聊搜图

私聊搜图和搜图模式 **几乎相同** ，因此请参阅上方“搜图模式帮助”以获取帮助。  
但请注意！！私聊中的参数为一次有效！！即输入参数后只会指定后一张的搜图库！  
  
  
无论使用何种搜图模式，当普通搜图模式匹配度较低时都会激活ascii2d搜图。  

### OCR识别
  
与搜图类似，发送图片时附加--ocr参数即可，同时需要用--lang=语言来指定需要识别的语言  
（不指定语言即视为中英文混合）  
  
支持的语言：  
ch / cn / zh -> CHN_ENG （中英混合）  
en -> ENG  
jp -> JAP  
ko -> KOR  
fr -> FRE  
ge -> GER  
ru -> RUS  

### 一言
  
对于普通人：  
您只需要输入“一言”即可。  
对一言管理员：  
您可输入“/hito a-g或random”来切换一言类型。  
（a-g分别为动画 漫画 游戏 小说 原创 网络 其他,random为随机）  
**一言类型仅限本群有效**  


!> 警告：  
在配置文件被人工或意外删除后，请务必输入“一言”来初始化一言插件！！  
一言管理员权限需要机器人管理员来添加/删除，若需要权限请找机器人管理员。  

### 其他功能

复读姬：日常复读off，在 3 次复读之后 20% 几率进行复读   
井字棋：输入九个空格开始游戏，走一步后先去除空格再填写x或o  
COC7 骰子 QQ 机器人（实验）：参见 https://github.com/kasora/dice

## 关于

 - 机器人：酷Q **Pro**
 - 插件（可供透露的）：
   - http-api : richardchien/coolq-http-api（https://github.com/richardchien/coolq-http-api）
   - 井字棋 : Tnze
   - 语言库 : Hanyuu
   - 一言 : fcc（根据戴兜的开源com.daidou.yiyan一言插件进行bug修复和小功能升级）
   - at全体成员计数器 : fcc  
   - 全局黑名单 : fcc
   - 搜图姬自助授权 : fcc
 - 环境：
   - Windows Server 2012 R2
   - nodejs
   - python 3.7
 - 功能实现：
   - 搜图姬 : Tsuk1ko/CQ-picfinder-robot（https://github.com/Tsuk1ko/CQ-picfinder-robot）

## 附加说明
### 添加事项

本机器人支持被邀请入群。
请在使用本机器人时，注意以下事项：  
  1. 本机器人可能会收集您（或群中）所发送的图片信息
  2. 为防止机器人被滥用，机器人需要授权才可使用。
    - 首次入群可使用```/free picbot```激活7天试用授权（仅有一次机会，执行此命令您的身份必须为群主或管理员）
	- 在其余情况下，请联系机器人管理员fcc进行授权续期。
	- 目前机器人并没有收费计划，授权可免费续期，授权仅为防止滥用而存在。
	- 机器人管理员持有收回授权的能力。
	- 目前仅搜图需要授权。
	- 您可输入```/picbot info```查询当前群的授权情况。