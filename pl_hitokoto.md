# 插件 - 一言

> 本插件根据[戴兜一言插件](https://cqp.cc/t/28671)的开源代码进行了bug的修复并增加了一些小功能。  
根据作者的“禁止二次发布”要求，修改后的代码及编译后的插件都不会发布。请谅解。  

## 介绍

本插件使用hitokoto的一言api，可以得到指定分类中的一句话。  
> 简单来说，一言指的就是一句话，可以是动漫中的台词，也可以是网络上的各种小段子。  
或是感动，或是开心，有或是单纯的回忆。来到这里，留下你所喜欢的那一句句话，与大家分享，这就是一言存在的目的。*  
*:本段文本源自hitokoto.us.  

该插件完全属于练手插件。这是fcc的第一个插件并且还是第一次写易语言o(*////▽////*)q  

 - 创建时间：2019.05.31
 - 当前版本：1.3.0
 - 服务范围：QQ群~~&讨论组~~
 - 分配机器人：
   - [搜图姬](picfinder.md)
 
## 功能

对于普通吃瓜群众：
  - 输入“```一言```”即可开始一言。  
  - 使用“```/hito now```”可以查看本群的一言类型。 
    （类型对应官方API文档，random为随机）
  - 可以使用“```暂未开放```”命令自己添加一言。支持图片类型（需要酷Q pro）。
   
对于一言管理员：
  - 您可输入```/hito a-l```来更改分类。  
    （类型对应官方API文档，其他错误类型为随机）  
    **一言类型仅限本群有效**  
  - 其他功能正在研发中...
  
警告: 
  * 在配置文件被删除后，请务必发送“```一言```”来初始化本群配置！
  * 若需要添加为一言管理员，请联系机器人管理员。
  
## 更新计划

 - ~~增加本地一言库（使用sqlite）（这个可能会咕因为我完全没看懂）~~
 - ~~增加作者来源~~
 
## 下载

  ~~!> 根据作者的“禁止二次发布”要求，修改后的代码及编译后的插件都不会发布。请谅解。~~  
  
  代码已完全重构。可以发布了。但暂时还没准备好。
     
	 
## 更新日志
  
  > ### v1.3.0
  
  - [A] 增加本地一言库
  - Tip: 若要升级至此版本，请备份已修改的数据后删除分群目录下所有文件。
  
  > ### v1.2.0
  
  - [E] 代码完全重构
  - [E] 适配最新的一言API
  - [D] 删除了讨论组支持
  - [D] 删除了菜单
  - [D] 删除了一些管理员命令
  
  > ### v1.0.9
  
  - 输出句子现在将包含作者
  
  > ### v1.0.8
  
  - 现在所有人都可以使用“```/hito now```”查看本群的一言类型了！  
    （数字1-8分别代表动画 漫画 游戏 小说 原创 网络 其他 随机）
  
  > ### v1.0.7
  
  - 优化分群配置目录，为（可能会开发的）本地一言库做准备
  - 修复严重的“在配置文件被删除后发送一言初始化可获得一言管理员权限”权限bug
  
  > ### ~~v1.0.6~~
  
  !> 本版本并未发布。  
  
  - ~~增加作者来源~~因为易语言模块问题导致无法正常解析而被迫放弃
  
  > ### v1.0.5
  
  - 可提供分群设置
  - 增加/删除管理员命令修复
  - 删除后台菜单设置
  
  > ### v1.0.4
  
  - 增加重置命令
  
  > ### v1.0.3
  
  - 增加添加/删除管理命令
  
  > ### v1.0.2
  
  - 修复bug
  
  > ### v1.0.1
   
  - 修复原插件api调用地址